
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta name="description" content ="CS 61A: Structure and Interpretation of Computer Programs" />
    <meta name="keywords" content ="CS 61A, Computer Science, CS, 61A, Programming, John DeNero, Berkeley, EECS" />
    <meta name="author" content ="Pamela Fox, Paul Hilfinger" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta name="viewport" content="width=device-width">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-throttle-debounce/1.1/jquery.ba-throttle-debounce.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="../../assets/js/hl.js"></script>
    <script>
        // we aren't registering builtins since
        //      (1) they don't render differently in the current CSS from other names
        //      (2) it's a mess to list all of them. You can extract from the site but that takes effort
        // if (1) ceases to be true, (2) might be worth the effort. For now, we're leaving as is
        hljsRegister({
            'keyword': "define if cond and or let begin lambda mu quote delay cons-stream set! quasiquote unquote unquote-splicing define-macro"
        });
        hljs.initHighlightingOnLoad();
    </script>
    <script src="../../assets/js/dark-mode.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inconsolata|Roboto:300,400,500|Work+Sans:400,700">
    <link rel="stylesheet" href="../../assets/css/style.css">
    <link rel="stylesheet" href="../../assets/css/mono-blue.css">
    <link rel="icon" href="../../assets/images/favicon.ico">

    

<link rel="stylesheet" type="text/css" href="../../assets/css/disc.css">


    <title>
Exam Prep 4 | CS 61A Spring 2021
</title>
  </head>

  <body id="index" class="home">
    <nav class="navbar navbar-default navbar-static-top">
      <div class="container noselect">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse-section">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="../../index.html">
            <img style="max-width:60px; margin-top: -20px;" class="logo" src="../../assets/images/logo.png"/>
          </a>
        </div>

        <div class="collapse navbar-collapse" id="navbar-collapse-section">
          <ul class="nav navbar-nav navbar-right">
            <li><a href="../../weekly/index.html">Weekly Schedule</a></li>
            <li><a href="../../office-hours/index.html">Office Hours</a></li>
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="index.html#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Staff
              </a>
              <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                <li><a href="../../instructor/index.html">Instructors</a></li>
                <li><a href="../../TAs/index.html">TAs</a></li>
                <li><a href="../../tutors/index.html">Tutors</a></li>
                <li><a href="../../academic-interns/index.html">Academic Interns</a></li>
              </ul>
            </li>
            <li><a href="../../resources/index.html">Resources</a></li>
            <li><a href="../../articles/about/index.html">Syllabus</a></li>
            <li><a href="https://piazza.com/berkeley/spring2021/cs61a" target="_blank">Piazza</a></li>
            <li><a href="https://code.cs61a.org">Code</a></li>
            <li><a href="http://tutor.cs61a.org">PyTutor</a></li>
            <li><a href="../../contact/index.html">Contact</a></li>
          </ul>
        </div>
      </div>
    </nav>

    <main id="content" class="container">
      
<div class='row'>
  <div class='col-md-9'>
    <header>
      <h1>
        
Exam Prep 4: Trees

        
        
        <ul class="inline-block list-inline">
          <li><a href="javascript:window.print()" class="label label-outline">examprep04.pdf</a></li>
        </ul>
        
        
      </h1>
    </header>
    

<div class="alert storable-login-status"></div>


<p>Students from past semesters wanted more content and structured time to prepare for exams. Exam Prep sections are a way to solidify your understanding of the week's materials. The problems are typically designed to be a bridge between discussion/lab/homework difficulty and exam difficulty.</p>

<p><strong>Reminder:</strong> There is nothing to turn in and there is no credit given for attending Exam Prep Sections.</p>

<p>
    We try to make these problems <strong>exam level</strong> , so you are not expected to be able to solve them coming straight from lecture without additional practice.
    To get the most out of Exam Prep, we recommend you <strong>try these problems first on your own</strong>  before coming to the Exam Prep section, where we will explain how to solve these problems while giving tips and advice for the exam. Do not worry if you struggle with these problems, <strong>it is okay to struggle while learning</strong>.
</p>
<p>
    You can work with anyone you want, including sharing solutions. We just ask you don't spoil the problems for anyone else in the class. Thanks!
</p>
<p>
    You may only put code where there are underscores for the codewriting questions.
</p>
<p>
    You can test your functions on their doctests by clicking the red test tube in the top right corner after clicking Run in 61A Code.
    Passing the doctests is not necessarily enough to get the problem fully correct. You must fully solve the stated problem.
</p>



    


<div class="page-break"></div>

<h3 class="question" id="q1">Q1: Perfectly Balanced and Pruned</h3>

<p><strong>Difficulty: ⭐</strong></p>

<p><strong>Part A:</strong> Implement <code>sum_tree</code>, which takes adds together all the labels in a tree.</p>

<p><strong>Part B:</strong> Implement <code>balanced</code>, a function which takes in a tree and returns whether each of the branches have the same total sum, and each branch is balanced.</p>

<p><strong>Part C:</strong> Implement <code>prune_tree</code>, a function which takes in a tree <code>t</code> as well as a function <code>predicate</code> that returns True or False for each label of each tree node. <code>prune_tree</code> returns a new tree where any node for which <code>predicate</code> of the label of that node returns True, then all the branches for that tree are pruned (not included in the new tree).</p>

<p><strong>IMPORTANT:</strong> You may use as many lines as you want for these two parts.</p>

<p><strong>Challenge:</strong> Solve both of these parts with just 1 line of code each.</p>


            <div class="monaco-storable" id="balanced-input" style="height:972px;"></div>
            <a href="index.html#" data-toggle="modal" data-target="#modal-balanced-input">Run in 61A Code</a>
            <div class="modal fade" id="modal-balanced-input" tabindex="-1" role="dialog">
                <div class="modal-dialog modal-lg" role="document">
                    <div class="modal-content" style="padding-bottom: -5px">
                    <iframe
                        id="code-iframe-balanced-input"
                        width="100%"
                        height="700px"
                        style="border: none; display:block;"
                    ></iframe>
                    </div>
                </div>
            </div>
            <div class="storable-status"></div>
            <script>
                $(() => activateEditor('def sum_tree(t):\n    &quot;&quot;&quot;\n    Add all elements in a tree.\n\n    &gt;&gt;&gt; t = tree(4, [tree(2, [tree(3)]), tree(6)])\n    &gt;&gt;&gt; sum_tree(t)\n    15\n    &quot;&quot;&quot;\n    "*** YOUR CODE HERE ***"\n\ndef balanced(t):\n    &quot;&quot;&quot;\n    Checks if each branch has same sum of all elements,\n    and each branch is balanced.\n\n    &gt;&gt;&gt; t = tree(1, [tree(3), tree(1, [tree(2)]), tree(1, [tree(1), tree(1)])])\n    &gt;&gt;&gt; balanced(t)\n    True\n    &gt;&gt;&gt; t = tree(t, [t, tree(1)])\n    &gt;&gt;&gt; balanced(t)\n    False\n    &quot;&quot;&quot;\n    "*** YOUR CODE HERE ***"\n\ndef prune_tree(t, predicate):\n    &quot;&quot;&quot;\n    Returns a new tree where any branch that has the predicate of the label\n    of the branch returns True has its branches pruned.\n\n    &gt;&gt;&gt; prune_tree(tree(1, [tree(2)]), lambda x: x == 1) # prune at root\n    [1]\n    &gt;&gt;&gt; prune_tree(tree(1, [tree(2)]), lambda x: x == 2) # prune at leaf\n    [1, [2]]\n    &gt;&gt;&gt; prune_tree(test_tree, lambda x: x &gt;= 3) # prune at 3, 4, and 5\n    [1, [2, [4], [5]], [3]]\n    &gt;&gt;&gt; sum_tree(prune_tree(test_tree, lambda x: x &gt; 10)) # prune nothing, add 1 to 9\n    45\n    &gt;&gt;&gt; prune_tree(test_tree, lambda x: x &gt; 10) == test_tree # prune nothing\n    True\n    &quot;&quot;&quot;\n    "*** YOUR CODE HERE ***"\n\ntest_tree = tree(1,\n                [tree(2,\n                    [tree(4,\n                        [tree(8),\n                            tree(9)]),\n                    tree(5)]),\n                tree(3,\n                    [tree(6),\n                    tree(7)])])\ndraw(test_tree)\n', "scheme", "balanced-input"));
            </script>
        



<div class="page-break"></div>

<h3 class="question" id="q2">Q2: Closest - Spring 2015 Midterm 2 Q3(c)</h3>

<p><strong>IMPORTANT:</strong> For this problem, you will be given time during the Exam Prep section to solve on your own before we go over it.</p>

<p><strong>Difficulty: ⭐⭐</strong></p>

<p>Implement <code>closest</code>, which takes a tree of numbers <code>t</code> and returns the smallest absolute difference anywhere in the tree between an entry and the sum of the entries of its branches. The sum only compares the any node value to the sum of its branches, or nodes one level below that node.</p>

<p>The built-in <code>min</code> function takes a sequence and returns its minimum value.</p>

<p><strong>Reminder:</strong> A branch of a branch of a tree t is not considered to be a branch of t.</p>


            <div class="monaco-storable" id="closest-input" style="height:396px;"></div>
            <a href="index.html#" data-toggle="modal" data-target="#modal-closest-input">Run in 61A Code</a>
            <div class="modal fade" id="modal-closest-input" tabindex="-1" role="dialog">
                <div class="modal-dialog modal-lg" role="document">
                    <div class="modal-content" style="padding-bottom: -5px">
                    <iframe
                        id="code-iframe-closest-input"
                        width="100%"
                        height="700px"
                        style="border: none; display:block;"
                    ></iframe>
                    </div>
                </div>
            </div>
            <div class="storable-status"></div>
            <script>
                $(() => activateEditor('def closest(t):\n    &quot;&quot;&quot; Return the smallest difference between an entry and the sum of the\n    root entries of its branches .\n    &gt;&gt;&gt; t = tree(8 , [tree(4), tree(3)])\n    &gt;&gt;&gt; closest(t) # |8 &#x2d; (4 + 3)| = 1\n    1\n    &gt;&gt;&gt; closest(tree(5, [t])) # Same minimum as t\n    1\n    &gt;&gt;&gt; closest(tree(10, [tree(2), t])) # |10 &#x2d; (2 + 8)| = 0\n    0\n    &gt;&gt;&gt; closest(tree(3)) # |3 &#x2d; 0| = 3\n    3\n    &gt;&gt;&gt; closest(tree(8, [tree(3, [tree(1, [tree(5)])])])) # 3 &#x2d; 1 = 2\n    2\n    &gt;&gt;&gt; sum([])\n    0\n    &quot;&quot;&quot;\n    diff = abs(____________________________)\n    return min(____________________________)\n\n', "scheme", "closest-input"));
            </script>
        



<div class="page-break"></div>

<h3 class="question" id="q3">Q3: Recursion on Tree ADT - Summer 2014 Midterm 1 Q7</h3>

<p><strong>Difficulty: ⭐⭐</strong></p>

<p>Define a function <code>dejavu</code>, which takes in a tree of numbers <code>t</code> and a number <code>n</code>. It returns <code>True</code> if there is a path from the root to a leaf such that the sum of the numbers along that path is <code>n</code> and <code>False</code> otherwise.</p>

<p><strong>IMPORTANT:</strong> For this problem, the starter code template is just a suggestion. You are welcome to add/delete/modify the starter code template, or even write your own solution that doesn’t use the starter code at all.</p>


            <div class="monaco-storable" id="dejavu-input" style="height:288px;"></div>
            <a href="index.html#" data-toggle="modal" data-target="#modal-dejavu-input">Run in 61A Code</a>
            <div class="modal fade" id="modal-dejavu-input" tabindex="-1" role="dialog">
                <div class="modal-dialog modal-lg" role="document">
                    <div class="modal-content" style="padding-bottom: -5px">
                    <iframe
                        id="code-iframe-dejavu-input"
                        width="100%"
                        height="700px"
                        style="border: none; display:block;"
                    ></iframe>
                    </div>
                </div>
            </div>
            <div class="storable-status"></div>
            <script>
                $(() => activateEditor('def dejavu(t, n):\n    &quot;&quot;&quot;\n    &gt;&gt;&gt; my_tree = tree(2, [tree(3, [tree(5), tree(7)]), tree(4)])\n    &gt;&gt;&gt; dejavu(my_tree, 12) # 2 &#x2d;&gt; 3 &#x2d;&gt; 7\n    True\n    &gt;&gt;&gt; dejavu(my_tree, 5) # Sums of partial paths like 2 &#x2d;&gt; 3 don ’t count\n    False\n    &quot;&quot;&quot;\n    if is_leaf(t):\n        return ____________________________\n    for ____________________________:\n        if ____________________________:\n            return ____________________________\n    return False\n', "scheme", "dejavu-input"));
            </script>
        



<div class="page-break"></div>

<h3 class="question" id="q4">Q4: Forest Path - Fall 2015 Final Q3 (a)(b)(d)</h3>

<p><strong>Difficulty: ⭐⭐⭐</strong></p>

<p><strong>Definition:</strong> A <em>path</em> through a <code>tree</code> is a list of adjacent node values that starts with the root value and ends with a leaf value. For example, the paths of <code>tree(1, [tree(2), tree(3, [tree(4), tree(5)])])</code> are</p>

<pre><code class=" ">[1, 2]
[1, 3, 4]
[1, 3, 5]</code></pre>



<p><strong>Part A:</strong> Implement <code>bigpath</code>, which takes a tree <code>t</code> and an integer <code>n</code>. It returns the number of paths
in <code>t</code> whose sum is at least <code>n</code>. Assume that all node values of <code>t</code> are integers.</p>

<p><strong>Part B:</strong> Implement <code>allpath</code> which takes a tree <code>t</code>, a one-argument predicate <code>f</code>, a two-argument reducing function <code>g</code>, and a starting value <code>s</code>. It returns the number of paths <code>p</code> in <code>t</code> for which <code>f(reduce(g, p, s))</code>
returns a truthy value. The <code>reduce</code> function is in the code. Pay close attention to the order of arguments to the <code>f</code> function in <code>reduce</code>. You do not need to call it, though.</p>

<p><strong>Part C:</strong> Re-implement <code>bigpath</code> (Part A) using <code>allpath</code> (Part B). Assume <code>allpath</code> is implemented correctly.</p>


            <div class="monaco-storable" id="forest_path-input" style="height:1242px;"></div>
            <a href="index.html#" data-toggle="modal" data-target="#modal-forest_path-input">Run in 61A Code</a>
            <div class="modal fade" id="modal-forest_path-input" tabindex="-1" role="dialog">
                <div class="modal-dialog modal-lg" role="document">
                    <div class="modal-content" style="padding-bottom: -5px">
                    <iframe
                        id="code-iframe-forest_path-input"
                        width="100%"
                        height="700px"
                        style="border: none; display:block;"
                    ></iframe>
                    </div>
                </div>
            </div>
            <div class="storable-status"></div>
            <script>
                $(() => activateEditor('def reduce(f, s, initial):\n    &quot;&quot;&quot;Combine elements of s pairwise\n    using f, starting with initial.\n\n    &gt;&gt;&gt; reduce(mul, [2, 4, 8], 1)\n    64\n    &gt;&gt;&gt; reduce(pow, [2, 3, 1], 2)\n    64\n    &quot;&quot;&quot;\n    for x in s:\n        initial = f(initial, x)\n    return initial\n\n# The one function defined below is used in the questions below \n# to convert truthy and falsy values into the numbers 1 and 0, respectively.\ndef one(b):\n    if b:\n        return 1\n    else:\n        return 0\n\ndef bigpath(t, n):\n    &quot;&quot;&quot;Return the number of paths in t that have a sum larger or equal to n.\n\n    &gt;&gt;&gt; t = tree(1, [tree(2), tree(3, [tree(4), tree(5)])])\n    &gt;&gt;&gt; bigpath(t, 3)\n    3\n    &gt;&gt;&gt; bigpath(t, 6)\n    2\n    &gt;&gt;&gt; bigpath(t, 9)\n    1\n    &quot;&quot;&quot;\n    if is_leaf(t):\n        return one(____________________________)\n    return sum([____________________________])\n\ndef allpath(t, f, g, s):\n    &quot;&quot;&quot; Return the number of paths p in t for which f(reduce(g, p, s)) is truthy.\n\n    &gt;&gt;&gt; t = tree(1, [tree(2), tree(3, [tree(4), tree(5)])])\n    &gt;&gt;&gt; even = lambda x: x % 2 == 0\n    &gt;&gt;&gt; allpath(t, even, max, 0) # Path maxes are 2, 4, and 5\n    2\n    &gt;&gt;&gt; allpath(t, even, pow, 2) # E.g., pow(pow(2, 1), 2) is even\n    3\n    &gt;&gt;&gt; allpath(t, even, pow, 1) # Raising 1 to any power is odd\n    0\n    &quot;&quot;&quot;\n    if is_leaf(t):\n        return one(____________________________)\n    return sum([____________________________])\n\nfrom operator import add , mul\n\ndef bigpath_allpath(t, n):\n    &quot;&quot;&quot;Return the number of paths in t that have a sum larger or equal to n.\n\n    &gt;&gt;&gt; t = tree(1, [tree(2), tree(3, [tree(4), tree(5)])])\n    &gt;&gt;&gt; bigpath_allpath(t, 3)\n    3\n    &gt;&gt;&gt; bigpath_allpath(t, 6)\n    2\n    &gt;&gt;&gt; bigpath_allpath(t, 9)\n    1\n    &quot;&quot;&quot;\n    return allpath(t, _________, _________, _________)\n\n', "scheme", "forest_path-input"));
            </script>
        



<div class="page-break"></div>

<h3 class="question" id="q5">Q5: Extra Practice</h3>

<p><strong>Difficulty: >⭐⭐⭐</strong></p>

<p><a href="https://drive.google.com/file/d/1yzQF16ZOp_iUzOTY6rK2eXPdwCmcQnAj/view?usp=sharing">Fall 2020 Exam Prep on Trees</a></p>



  </div>

  <div class='col-md-3 sticky'>
    <nav class='hidden-print hidden-sm hidden-xs sidebar'>
      <ul>
  <li><a href="index.html#q1">Q1: Perfectly Balanced and Pruned</a></li>
  <li><a href="index.html#q2">Q2: Closest - Spring 2015 Midterm 2 Q3(c)</a></li>
  <li><a href="index.html#q3">Q3: Recursion on Tree ADT - Summer 2014 Midterm 1 Q7</a></li>
  <li><a href="index.html#q4">Q4: Forest Path - Fall 2015 Final Q3 (a)(b)(d)</a></li>
  <li><a href="index.html#q5">Q5: Extra Practice</a></li>
</ul>
    </nav>
  </div>
</div>

    </main>

    <footer class="container">
      <div class="row text-center">
        <div class="col col-sm-4">
          <h3><a href="../../index.html">CS 61A</a></h3>
          <ul class="nav nav-pills nav-stacked">
            <li><a href="../../weekly/index.html">Weekly Schedule</a></li>
            <li><a href="../../office-hours/index.html">Office Hours</a></li>
            <li><a href="../../staff/index.html">Staff</a></li>
          </ul>
        </div>
        <div class="col col-sm-4">
          <h3><a href="../../resources/index.html">Resources</a></h3>
          <ul class="nav nav-pills nav-stacked">
            <li><a href="../../articles/studying/index.html">Studying Guide</a></li>
            <li><a href="../../articles/debugging/index.html">Debugging Guide</a></li>
            <li><a href="../../articles/composition/index.html">Composition Guide</a></li>
            <li><a href="../../articles/pair-programming/index.html">Pair Programming</a></li>
          </ul>
        </div>
        <div class="col col-sm-4">
          <h3><a href="../../articles/about/index.html">Policies</a></h3>
          <ul class="nav nav-pills nav-stacked">
            <li><a href="../../articles/about/index.html#assignments">Assignments</a></li>
            <li><a href="../../articles/about/index.html#exams">Exams</a></li>
            <li><a href="../../articles/about/index.html#grading">Grading</a></li>
          </ul>
        </div>
      </div>
    </footer>

    

    <script src="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.20.0/min/vs/loader.min.js"></script>
  <link rel="stylesheet" data-name="vs/editor/editor.main" href="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.20.0/min/vs/editor/editor.main.min.css">
  <script>
      require.config({ paths: { 'vs': 'https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.20.0/min/vs' }});
      window.MonacoEnvironment = { getWorkerUrl: () => URL.createObjectURL(new Blob([`
      self.MonacoEnvironment = {
          baseUrl: 'https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.20.0/min'
      };
      importScripts('https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.20.0/min/vs/base/worker/workerMain.min.js');
  `], { type: 'text/javascript' }))
  };
  </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jsPlumb/2.15.5/js/jsplumb.min.js"></script>
    <script src="../../assets/js/network_storage.js"></script>
    <script src="../../assets/js/storable.js"></script>
    <script src="../../assets/js/editor.js"></script>
    <script src="../../assets/js/env-diagram.js"></script>
    
<script src="../../assets/js/sketchy.js"></script>
<script>
  $('.sidebar ul').addClass('nav nav-stacked noselect');
  $('body').scrollspy({
    target: '.sidebar',
    offset: 40
  });

  function goToId(id) {
    var target = $(id);
    target.parent().show();
    $('html,body').animate({
      scrollTop: target.offset().top,
    }, 100);
    $("body").scrollspy('refresh');
  }

  if (location.hash) {
    setTimeout(function() {
      if (location.hash) {
        goToId(location.hash);
      }
    }, 1);
  }

  $("a").click(function(event) {
    var urlBeforeHashRegEx = new RegExp("^"+window.location.href.split("#")[0]);
    if (/^#/.test(this.hash) && urlBeforeHashRegEx.test(this.href)) {
      event.preventDefault();
      goToId(this.hash);
      document.location.hash = this.hash;
    }
  });
</script>

  </body>
</html>
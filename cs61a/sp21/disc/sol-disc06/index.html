
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta name="description" content ="CS 61A: Structure and Interpretation of Computer Programs" />
    <meta name="keywords" content ="CS 61A, Computer Science, CS, 61A, Programming, John DeNero, Berkeley, EECS" />
    <meta name="author" content ="Pamela Fox, Paul Hilfinger" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta name="viewport" content="width=device-width">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-throttle-debounce/1.1/jquery.ba-throttle-debounce.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="../../assets/js/hl.js"></script>
    <script>
        // we aren't registering builtins since
        //      (1) they don't render differently in the current CSS from other names
        //      (2) it's a mess to list all of them. You can extract from the site but that takes effort
        // if (1) ceases to be true, (2) might be worth the effort. For now, we're leaving as is
        hljsRegister({
            'keyword': "define if cond and or let begin lambda mu quote delay cons-stream set! quasiquote unquote unquote-splicing define-macro"
        });
        hljs.initHighlightingOnLoad();
    </script>
    <script src="../../assets/js/dark-mode.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inconsolata|Roboto:300,400,500|Work+Sans:400,700">
    <link rel="stylesheet" href="../../assets/css/style.css">
    <link rel="stylesheet" href="../../assets/css/mono-blue.css">
    <link rel="icon" href="../../assets/images/favicon.ico">

    

<link rel="stylesheet" type="text/css" href="../../assets/css/disc.css">


    <title>
Discussion 6 | CS 61A Spring 2021
</title>
  </head>

  <body id="index" class="home">
    <nav class="navbar navbar-default navbar-static-top">
      <div class="container noselect">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse-section">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="../../index.html">
            <img style="max-width:60px; margin-top: -20px;" class="logo" src="../../assets/images/logo.png"/>
          </a>
        </div>

        <div class="collapse navbar-collapse" id="navbar-collapse-section">
          <ul class="nav navbar-nav navbar-right">
            <li><a href="../../weekly/index.html">Weekly Schedule</a></li>
            <li><a href="../../office-hours/index.html">Office Hours</a></li>
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="index.html#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Staff
              </a>
              <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                <li><a href="../../instructor/index.html">Instructors</a></li>
                <li><a href="../../TAs/index.html">TAs</a></li>
                <li><a href="../../tutors/index.html">Tutors</a></li>
                <li><a href="../../academic-interns/index.html">Academic Interns</a></li>
              </ul>
            </li>
            <li><a href="../../resources/index.html">Resources</a></li>
            <li><a href="../../articles/about/index.html">Syllabus</a></li>
            <li><a href="https://piazza.com/berkeley/spring2021/cs61a" target="_blank">Piazza</a></li>
            <li><a href="https://code.cs61a.org">Code</a></li>
            <li><a href="http://tutor.cs61a.org">PyTutor</a></li>
            <li><a href="../../contact/index.html">Contact</a></li>
          </ul>
        </div>
      </div>
    </nav>

    <main id="content" class="container">
      
<div class='row'>
  <div class='col-md-9'>
    <header>
      <h1>
        
Discussion 6: Object-Oriented Programming, Iterators and Generators

        
        
        <ul class="inline-block list-inline">
          <li><a href="javascript:window.print()" class="label label-outline">disc06.pdf</a></li>
        </ul>
        
        
      </h1>
    </header>
    

<div class="alert storable-login-status"></div>

This is an online worksheet that you can work on during discussions and tutorials.
Your work is not graded and you do not need to submit anything.

    



<h1 id="oop">OOP</h1>


<p>In a previous lecture, you were introduced to the programming paradigm known as
<strong>Object-Oriented Programming (OOP)</strong>. OOP allows us to treat data as objects - like
we do in real life.</p>

<p>For example, consider the <strong>class</strong> <code>Student</code>. Each of
you as individuals is an <strong>instance</strong> of this class.
So, a student <code>Angela</code> would be an instance of the class
<code>Student</code>.</p>

<p>Details that all CS 61A students have, such as <code>name</code>, are called
<strong>instance variables</strong>.  Every student has
these variables, but their values differ from student to student.  A variable
that is shared among all instances of <code>Student</code> is known as a
<strong>class variable</strong>.
An example would be the <code>num_slip_days_allowed</code> attribute; the number of slip days that students can use during the semester is not a property of any given student but rather of all of them.</p>

<p>All students are able to do homework, attend lecture, and go to office hours.
When functions belong to a specific object, they are said to be
<strong>methods</strong>.
In this case, these actions would be bound methods of
<code>Student</code> objects.</p>

<p>Here is a recap of what we discussed above:</p>

<ul>
  <li><strong>class</strong>: a template for creating objects</li>
  <li><strong>instance</strong>: a single object created from a class</li>
  <li><strong>instance variable</strong>: a data attribute of an object, specific to an instance</li>
  <li><strong>class attribute</strong>: a data attribute of an object, shared by all instances of a class</li>
  <li><strong>method</strong>: an action (function) that all instances of a class may perform</li>
</ul>


<h2 id="questions">Questions</h2>


<h3 class="question" id="q1">Q1: OOP WWPD - Student</h3>
Below we have defined the classes <code>Professor</code> and <code>Student</code>, implementing some of what was described above.
Remember that we pass the <code>self</code> argument implicitly to instance methods when using dot-notation.

</p>

<pre><code>class Student:
    num_students = 0 # this is a class attribute
    def __init__(self, name, staff):
        self.name = name # this is an instance attribute
        self.understanding = 0
        Student.num_students += 1
        print(&quot;There are now&quot;, Student.num_students, &quot;students&quot;)
        staff.add_student(self)

    def visit_office_hours(self, staff):
        staff.assist(self)
        print(&quot;Thanks, &quot; + staff.name)

class Professor:
    def __init__(self, name):
        self.name = name
        self.students = {}

    def add_student(self, student):
        self.students[student.name] = student

    def assist(self, student):
        student.understanding += 1</code></pre>



<p>What will the following lines output?</p>

<pre><code>&gt;&gt;&gt; callahan = Professor(&quot;Callahan&quot;)
&gt;&gt;&gt; elle = Student(&quot;Elle&quot;, callahan)</code></pre>



            <label class="sr-only" for="oop-wwpd-1-input">Your Answer:</label>
            <input class="form-control storable" id="oop-wwpd-1-input" type="text">
            <div class="storable-status"></div>
        
<div class="sol-highlight"> There are now 1 students </div>

<pre><code>&gt;&gt;&gt; elle.visit_office_hours(callahan)</code></pre>



            <label class="sr-only" for="oop-wwpd-2-input">Your Answer:</label>
            <input class="form-control storable" id="oop-wwpd-2-input" type="text">
            <div class="storable-status"></div>
        
<div class="sol-highlight"> Thanks, Callahan </div>

<pre><code>&gt;&gt;&gt; elle.visit_office_hours(Professor(&quot;Paulette&quot;))</code></pre>



            <label class="sr-only" for="oop-wwpd-3-input">Your Answer:</label>
            <input class="form-control storable" id="oop-wwpd-3-input" type="text">
            <div class="storable-status"></div>
        
<div class="sol-highlight"> Thanks, Paulette </div>

<pre><code>&gt;&gt;&gt; elle.understanding</code></pre>



            <label class="sr-only" for="oop-wwpd-4-input">Your Answer:</label>
            <input class="form-control storable" id="oop-wwpd-4-input" type="text">
            <div class="storable-status"></div>
        
<div class="sol-highlight"> 2 </div>

<pre><code>&gt;&gt;&gt; [name for name in callahan.students]</code></pre>



            <label class="sr-only" for="oop-wwpd-5-input">Your Answer:</label>
            <input class="form-control storable" id="oop-wwpd-5-input" type="text">
            <div class="storable-status"></div>
        
<div class="sol-highlight"> ['Elle'] </div>

<pre><code>&gt;&gt;&gt; x = Student(&quot;Vivian&quot;, Professor(&quot;Stromwell&quot;)).name</code></pre>



            <label class="sr-only" for="oop-wwpd-6-input">Your Answer:</label>
            <input class="form-control storable" id="oop-wwpd-6-input" type="text">
            <div class="storable-status"></div>
        
<div class="sol-highlight"> There are now 2 students </div>

<pre><code>&gt;&gt;&gt; x</code></pre>



            <label class="sr-only" for="oop-wwpd-7-input">Your Answer:</label>
            <input class="form-control storable" id="oop-wwpd-7-input" type="text">
            <div class="storable-status"></div>
        
<div class="sol-highlight"> 'Vivian' </div>

<pre><code>&gt;&gt;&gt; [name for name in callahan.students]</code></pre>



            <label class="sr-only" for="oop-wwpd-8-input">Your Answer:</label>
            <input class="form-control storable" id="oop-wwpd-8-input" type="text">
            <div class="storable-status"></div>
        
<div class="sol-highlight"> ['Elle'] </div>
<h3 class="question" id="q2">Q2: (Tutorial) Email</h3>

<p>We would like to write three different classes (<code>Server</code>, <code>Client</code>,
and <code>Email</code>) to simulate a system for sending and receiving email. Fill in the definitions below to finish
the implementation!</p>

<p>Important: We suggest that you approach this problem by first filling out the <code>Email</code> class, then the <code>register_client</code> method of <code>Server</code>, the <code>Client</code> class, and lastly the <code>send</code> method of the <code>Server</code> class.</p>

</p>


            
            <b>Your Answer</b>
            
            <div class="monaco-storable" id="email-input" style="height:1242px;"></div>
            <a href="index.html#" data-toggle="modal" data-target="#modal-email-input">Run in 61A Code</a>
            <div class="modal fade" id="modal-email-input" tabindex="-1" role="dialog">
                <div class="modal-dialog modal-lg" role="document">
                    <div class="modal-content" style="padding-bottom: -5px">
                    <iframe
                        id="code-iframe-email-input"
                        width="100%"
                        height="700px"
                        style="border: none; display:block;"
                    ></iframe>
                    </div>
                </div>
            </div>
            <div class="storable-status"></div>
            <script>
                $(() => activateEditor('class Email:\n    &quot;&quot;&quot;Every email object has 3 instance attributes: the\n    message, the sender name, and the recipient name.\n    &quot;&quot;&quot;\n    def __init__(self, msg, sender_name, recipient_name):\n        "*** YOUR CODE HERE ***"\n\nclass Server:\n    &quot;&quot;&quot;Each Server has an instance attribute clients, which\n    is a dictionary that associates client names with\n    client objects.\n    &quot;&quot;&quot;\n    def __init__(self):\n        self.clients = {}\n\n    def send(self, email):\n        &quot;&quot;&quot;Take an email and put it in the inbox of the client\n        it is addressed to.\n        &quot;&quot;&quot;\n        "*** YOUR CODE HERE ***"\n\n    def register_client(self, client, client_name):\n        &quot;&quot;&quot;Takes a client object and client_name and adds them\n        to the clients instance attribute.\n        &quot;&quot;&quot;\n        "*** YOUR CODE HERE ***"\n\nclass Client:\n    &quot;&quot;&quot;Every Client has instance attributes name (which is\n    used for addressing emails to the client), server\n    (which is used to send emails out to other clients), and\n    inbox (a list of all emails the client has received).\n\n    &gt;&gt;&gt; s = Server()\n    &gt;&gt;&gt; a = Client(s, &#x27;Alice&#x27;)\n    &gt;&gt;&gt; b = Client(s, &#x27;Bob&#x27;)\n    &gt;&gt;&gt; a.compose(&#x27;Hello, World!&#x27;, &#x27;Bob&#x27;)\n    &gt;&gt;&gt; b.inbox[0].msg\n    &#x27;Hello, World!&#x27;\n    &gt;&gt;&gt; a.compose(&#x27;CS 61A Rocks!&#x27;, &#x27;Bob&#x27;)\n    &gt;&gt;&gt; len(b.inbox)\n    2\n    &gt;&gt;&gt; b.inbox[1].msg\n    &#x27;CS 61A Rocks!&#x27;\n    &quot;&quot;&quot;\n    def __init__(self, server, name):\n        self.inbox = []\n        "*** YOUR CODE HERE ***"\n\n    def compose(self, msg, recipient_name):\n        &quot;&quot;&quot;Send an email with the given message msg to the\n        given recipient client.\n        &quot;&quot;&quot;\n        "*** YOUR CODE HERE ***"\n\n    def receive(self, email):\n        &quot;&quot;&quot;Take an email and add it to the inbox of this\n        client.\n        &quot;&quot;&quot;\n        "*** YOUR CODE HERE ***"\n\n', "scheme", "email-input"));
            </script>
        
            <div class="sol-highlight">
                <b>Solution</b>
                
<pre><code>class Email:
    &quot;&quot;&quot;Every email object has 3 instance attributes: the
    message, the sender name, and the recipient name.
    &quot;&quot;&quot;
    def __init__(self, msg, sender_name, recipient_name):
<div class="sol-highlight">        self.msg = msg
        self.sender_name = sender_name
        self.recipient_name = recipient_name</div>
class Server:
    &quot;&quot;&quot;Each Server has an instance attribute clients, which
    is a dictionary that associates client names with
    client objects.
    &quot;&quot;&quot;
    def __init__(self):
        self.clients = {}

    def send(self, email):
        &quot;&quot;&quot;Take an email and put it in the inbox of the client
        it is addressed to.
        &quot;&quot;&quot;
<div class="sol-highlight">        client = self.clients[email.recipient_name]
        client.receive(email)</div>
    def register_client(self, client, client_name):
        &quot;&quot;&quot;Takes a client object and client_name and adds them
        to the clients instance attribute.
        &quot;&quot;&quot;
<div class="sol-highlight">        self.clients[client_name] = client</div>
class Client:
    &quot;&quot;&quot;Every Client has instance attributes name (which is
    used for addressing emails to the client), server
    (which is used to send emails out to other clients), and
    inbox (a list of all emails the client has received).

    &gt;&gt;&gt; s = Server()
    &gt;&gt;&gt; a = Client(s, &#x27;Alice&#x27;)
    &gt;&gt;&gt; b = Client(s, &#x27;Bob&#x27;)
    &gt;&gt;&gt; a.compose(&#x27;Hello, World!&#x27;, &#x27;Bob&#x27;)
    &gt;&gt;&gt; b.inbox[0].msg
    &#x27;Hello, World!&#x27;
    &gt;&gt;&gt; a.compose(&#x27;CS 61A Rocks!&#x27;, &#x27;Bob&#x27;)
    &gt;&gt;&gt; len(b.inbox)
    2
    &gt;&gt;&gt; b.inbox[1].msg
    &#x27;CS 61A Rocks!&#x27;
    &quot;&quot;&quot;
    def __init__(self, server, name):
        self.inbox = []
<div class="sol-highlight">        self.server = server
        self.name = name
        self.server.register_client(self, self.name)</div>
    def compose(self, msg, recipient_name):
        &quot;&quot;&quot;Send an email with the given message msg to the
        given recipient client.
        &quot;&quot;&quot;
<div class="sol-highlight">        email = Email(msg, self.name, recipient_name)
        self.server.send(email)</div>
    def receive(self, email):
        &quot;&quot;&quot;Take an email and add it to the inbox of this
        client.
        &quot;&quot;&quot;
<div class="sol-highlight">        self.inbox.append(email)</div></code></pre>

            </div>
        


<h1 id="inheritance">Inheritance</h1>


<p>Python classes can implement a useful abstraction technique known as
<strong>inheritance</strong>. To illustrate this concept, consider the following
<code>Dog</code> and <code>Cat</code> classes.</p>

<pre><code>class Dog():
    def __init__(self, name, owner):
        self.is_alive = True
        self.name = name
        self.owner = owner
    def eat(self, thing):
        print(self.name + &quot; ate a &quot; + str(thing) + &quot;!&quot;)
    def talk(self):
        print(self.name + &quot; says woof!&quot;)

class Cat():
    def __init__(self, name, owner, lives=9):
        self.is_alive = True
        self.name = name
        self.owner = owner
        self.lives = lives
    def eat(self, thing):
        print(self.name + &quot; ate a &quot; + str(thing) + &quot;!&quot;)
    def talk(self):
        print(self.name + &quot; says meow!&quot;)</code></pre>



<p>Notice that because dogs and cats share a lot of similar qualities, there is a
lot of repeated code! To avoid redefining attributes and methods for similar
classes, we can write a single <strong>base class</strong> from which the similar
classes <strong>inherit</strong>. For example, we can write a class called <strong>Pet</strong>
and redefine <strong>Dog</strong> as a <strong>subclass</strong> of <strong>Pet</strong>:</p>

<pre><code>class Pet():
    def __init__(self, name, owner):
        self.is_alive = True    # It&#x27;s alive!!!
        self.name = name
        self.owner = owner
    def eat(self, thing):
        print(self.name + &quot; ate a &quot; + str(thing) + &quot;!&quot;)
    def talk(self):
        print(self.name)

class Dog(Pet):
    def talk(self):
        print(self.name + &#x27; says woof!&#x27;)</code></pre>



<p>Inheritance represents a hierarchical relationship between two or more
classes where one class <strong>is a</strong> (no relation to the Python <code>is</code> operator)
more specific version of the other, e.g.
a dog <strong>is a</strong> pet. Because <code>Dog</code> inherits from <code>Pet</code>, we
didn't have to redefine <code>__init__</code> or <code>eat</code>.  However, since
we want <code>Dog</code> to <code>talk</code> in a way that is unique to dogs, we did
<strong>override</strong> the <code>talk</code> method.</p>

<p>We can use the <code>super()</code> function to refer to a class's superclass. For example, calling <code>super()</code> with the class definition of <code>Dog</code> allows us to refer to the <code>Pet</code> class.</p>

<p>Here's an example of an alternate equivalent definition of <code>Dog</code> that uses <code>super()</code> to explicitly call the <code>__init__</code> method of the parent class:</p>

<pre><code>class Dog(Pet):
    def __init__(self, name, owner):
        super().__init__(name, owner)
        # this is equivalent to calling Pet.__init__(self, name, owner)
    def talk(self):
        print(self.name + &#x27; says woof!&#x27;)</code></pre>


<p>Keep in mind that creating the <code>__init__</code> function shown above is actually not necessary, because creating a <code>Dog</code> instance will automatically call the <code>_init__</code> method of <code>Pet</code>. Normally when defining an <code>__init__</code> method in a subclass, we take some additional action to calling <code>super().__init__</code>. For example, we could add a new instance variable like the following:</p>

<pre><code>def __init__(self, name, owner, has_floppy_ears):
    super().__init__(name, owner)
    self.has_floppy_ears = has_floppy_ears</code></pre>




<h2 id="questions-2">Questions</h2>


<h3 class="question" id="q3">Q3: Cat</h3>

<p>Below is a skeleton for the <code>Cat</code> class, which inherits from
the <code>Pet</code> class. To complete the implementation, override the
<code>__init__</code> and <code>talk</code> methods and add a new
<code>lose_life</code> method. We have included the <code>Pet</code> class as well for your convenience.</p>

<blockquote><p>Hint: You can call the <code>__init__</code> method of <code>Pet</code> to
set a cat's <code>name</code> and <code>owner</code>.</p></blockquote>


            
            <b>Your Answer</b>
            
            <div class="monaco-storable" id="cat-input" style="height:666px;"></div>
            <a href="index.html#" data-toggle="modal" data-target="#modal-cat-input">Run in 61A Code</a>
            <div class="modal fade" id="modal-cat-input" tabindex="-1" role="dialog">
                <div class="modal-dialog modal-lg" role="document">
                    <div class="modal-content" style="padding-bottom: -5px">
                    <iframe
                        id="code-iframe-cat-input"
                        width="100%"
                        height="700px"
                        style="border: none; display:block;"
                    ></iframe>
                    </div>
                </div>
            </div>
            <div class="storable-status"></div>
            <script>
                $(() => activateEditor('class Pet():\n    def __init__(self, name, owner):\n        self.is_alive = True    # It&#x27;s alive!!!\n        self.name = name\n        self.owner = owner\n    def eat(self, thing):\n        print(self.name + &quot; ate a &quot; + str(thing) + &quot;!&quot;)\n    def talk(self):\n        print(self.name)\n\nclass Cat(Pet):\n    def __init__(self, name, owner, lives=9):\n        "*** YOUR CODE HERE ***"\n\n    def talk(self):\n        &quot;&quot;&quot; Print out a cat&#x27;s greeting.\n\n        &gt;&gt;&gt; Cat(&#x27;Thomas&#x27;, &#x27;Tammy&#x27;).talk()\n        Thomas says meow!\n        &quot;&quot;&quot;\n        "*** YOUR CODE HERE ***"\n\n    def lose_life(self):\n        &quot;&quot;&quot;Decrements a cat&#x27;s life by 1. When lives reaches zero, &#x27;is_alive&#x27;\n        becomes False. If this is called after lives has reached zero, print out\n        that the cat has no more lives to lose.\n        &quot;&quot;&quot;\n        "*** YOUR CODE HERE ***"\n\n', "scheme", "cat-input"));
            </script>
        
            <div class="sol-highlight">
                <b>Solution</b>
                
<pre><code>class Pet():
    def __init__(self, name, owner):
        self.is_alive = True    # It&#x27;s alive!!!
        self.name = name
        self.owner = owner
    def eat(self, thing):
        print(self.name + &quot; ate a &quot; + str(thing) + &quot;!&quot;)
    def talk(self):
        print(self.name)

class Cat(Pet):
    def __init__(self, name, owner, lives=9):
<div class="sol-highlight">        super().__init__(name, owner)
        self.lives = lives</div>
    def talk(self):
        &quot;&quot;&quot; Print out a cat&#x27;s greeting.

        &gt;&gt;&gt; Cat(&#x27;Thomas&#x27;, &#x27;Tammy&#x27;).talk()
        Thomas says meow!
        &quot;&quot;&quot;
<div class="sol-highlight">        print(self.name + &#x27; says meow!&#x27;)</div>
    def lose_life(self):
        &quot;&quot;&quot;Decrements a cat&#x27;s life by 1. When lives reaches zero, &#x27;is_alive&#x27;
        becomes False. If this is called after lives has reached zero, print out
        that the cat has no more lives to lose.
        &quot;&quot;&quot;
<div class="sol-highlight">        if self.lives &gt; 0:
            self.lives &#x2d;= 1
            if self.lives == 0:
                self.is_alive = False
        else:
            print(&quot;This cat has no more lives to lose :(&quot;)</div></code></pre>

            </div>
        

<div class="sol-highlight">

            <iframe width="560" height="315" src="https://youtube.com/embed/BatqjYa7WZ8?t=2090"
                frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
                allowfullscreen></iframe>
</div>
<h3 class="question" id="q4">Q4: (Tutorial) NoisyCat</h3>
More cats! Fill in this implemention of a class called
<code>NoisyCat</code>, which is just like a normal <code>Cat</code>. However,
<code>NoisyCat</code> talks a lot -- twice as much as a regular <code>Cat</code>!
If you'd like to test your code, feel free to copy over your solution to the <code>Cat</code> class above.


            
            <b>Your Answer</b>
            
            <div class="monaco-storable" id="noisycat-input" style="height:342px;"></div>
            <a href="index.html#" data-toggle="modal" data-target="#modal-noisycat-input">Run in 61A Code</a>
            <div class="modal fade" id="modal-noisycat-input" tabindex="-1" role="dialog">
                <div class="modal-dialog modal-lg" role="document">
                    <div class="modal-content" style="padding-bottom: -5px">
                    <iframe
                        id="code-iframe-noisycat-input"
                        width="100%"
                        height="700px"
                        style="border: none; display:block;"
                    ></iframe>
                    </div>
                </div>
            </div>
            <div class="storable-status"></div>
            <script>
                $(() => activateEditor('"*** YOUR CODE HERE ***"\nclass __________ # Fill me in!\n    &quot;&quot;&quot;A Cat that repeats things twice.&quot;&quot;&quot;\n    def __init__(self, name, owner, lives=9):\n        # Is this method necessary? Why or why not?\n        "*** YOUR CODE HERE ***"\n    def talk(self):\n        &quot;&quot;&quot;Talks twice as much as a regular cat.\n\n        &gt;&gt;&gt; NoisyCat(&#x27;Magic&#x27;, &#x27;James&#x27;).talk()\n        Magic says meow!\n        Magic says meow!\n        &quot;&quot;&quot;\n        "*** YOUR CODE HERE ***"\n\n', "scheme", "noisycat-input"));
            </script>
        
            <div class="sol-highlight">
                <b>Solution</b>
                
<pre><code><div class="sol-highlight">class NoisyCat(Cat): # Fill me in!</div>    &quot;&quot;&quot;A Cat that repeats things twice.&quot;&quot;&quot;
    def __init__(self, name, owner, lives=9):
        # Is this method necessary? Why or why not?
<div class="sol-highlight">        super().__init__(name, owner, lives)
        # No, this method is not necessary because NoisyCat already inherits Cat&#x27;s \_\_init\_\_ method</div>    def talk(self):
        &quot;&quot;&quot;Talks twice as much as a regular cat.

        &gt;&gt;&gt; NoisyCat(&#x27;Magic&#x27;, &#x27;James&#x27;).talk()
        Magic says meow!
        Magic says meow!
        &quot;&quot;&quot;
<div class="sol-highlight">        super().talk()
        super().talk()
        # alternatively, you can use Cat.talk(self) here</div></code></pre>

            </div>
        

<div class="sol-highlight">
<a href="https://www.youtube.com/watch?v=BatqjYa7WZ8&list=PLx38hZJ5RLZfel-Gi9pjaUbfQDCZIsWMU&vq=hd1080&t=38m10s">walkthrough video</a>
</div>


<h1 id="iterators">Iterators</h1>

<p>An <strong>iterable</strong> is a data type which contains
a collection of values which can be processed one by one
sequentially. Some examples of iterables we've seen include
lists, tuples, strings, and dictionaries. In general, any
object that can be iterated over in a <code>for</code> loop
can be considered an iterable.</p>

<p>While an iterable contains values that can be iterated over,
we need another type of object called an <strong>iterator</strong>
to actually retrieve values contained in an iterable. Calling
the <code>iter</code> function on an iterable will create an iterator
over that iterable. Each iterator keeps track of its position within
the iterable. Calling the <code>next</code> function on an iterator will
give the current value in the iterable and move the iterator's position
to the next value.</p>

<p>In this way, the relationship between an
iterable and an iterator is analogous to the relationship between
a book and a bookmark - an iterable contains the data that is
being iterated over, and an iterator keeps track of your position
within that data.</p>

<p>Once an iterator has returned all the values in an iterable, subsequent
calls to <code>next</code> on that iterable will result in a
<code>StopIteration</code> exception. In order to be able to access the values
in the iterable a second time, you would have to create a second iterator. Check out the example below:</p>

<pre><code>&gt;&gt;&gt; a = [1, 2]
&gt;&gt;&gt; a_iter = iter(a)
&gt;&gt;&gt; next(a_iter)
1
&gt;&gt;&gt; next(a_iter)
2
&gt;&gt;&gt; next(a_iter)
StopIteration</code></pre>



<p>Iterables can be used in for loops and as arguments to functions that require a
sequence (e.g. <code>map</code> and <code>zip</code>). For example:</p>

<pre><code>&gt;&gt;&gt; for n in range(2):
...     print(n)
...
0
1</code></pre>



<p>This works because the for loop implicitly creates an iterator using the
<code>__iter__</code> method. Python then repeatedly calls <code>next</code>
repeatedly on the iterator, until it raises <code>StopIteration</code>. In other
words, the loop above is (basically) equivalent to:</p>

<pre><code>range_iterator = iter(range(2))
is_done = False
while not is_done:
    try:
        val = next(range_iterator)
        print(val)
    except StopIteration:
        is_done = True</code></pre>


<p>One important application of iterables
and iterators is the <code>for</code> loop.
We've seen how we can use <code>for</code> loops to iterate over iterables like lists and
dictionaries.</p>

<p>This only works because the <code>for</code> loop implicitly creates an iterator
using the built-in <code>iter</code> function.
Python then calls <code>next</code> repeatedly on the iterator, until it raises
<code>StopIteration</code>.</p>

<p>Most iterators are also iterables - that is, calling <code>iter</code> on
them will return an iterator. This means that we can use them inside <code>for</code> loops.
However, calling <code>iter</code> on most iterators will not create a new iterator -
instead, it will simply return the same iterator.</p>

<p>We can also iterate over iterables in a list comprehension or pass in an iterable to
the built-in function <code>list</code> in order to put the items of an iterable into
a list.</p>

<p>In addition to the sequences we've learned, Python has some
built-in ways to create iterables and iterators. Here are a few
useful ones:</p>

<ul>
  <li><code>range(start, end)</code> returns an iterable containing
  	numbers from start to end-1. If <code>start</code> is not provided,
  	it defaults to 0. Check out <a href="https://docs.python.org/3/library/stdtypes.html#range">the docs</a> for more details.</li>
  <li><code>map(f, iterable)</code> returns a new iterator containing
  	the values resulting from applying <code>f</code> to each value in
  	<code>iterable</code>. Check out <a href="https://docs.python.org/3/library/functions.html#map">the docs</a> for more details and other
  uses of <code>map</code>, such as passing in multiple iterables.</li>
  <li><code>filter(f, iterable)</code> returns a new iterator containing
  	only the values in <code>iterable</code> for which <code>f(value)</code> returns
  	<code>True</code>. Check out <a href="https://docs.python.org/3/library/functions.html#filter">the docs</a> for more details.</li>
</ul>


<h2 id="questions-3">Questions</h2>

<h3 class="question" id="q5">Q5: Iterators WWPD</h3>

<p>What would Python display?</p>

<pre><code>&gt;&gt;&gt; s = [[1, 2]]
&gt;&gt;&gt; i = iter(s)
&gt;&gt;&gt; j = iter(next(i))
&gt;&gt;&gt; next(j)</code></pre>



            <label class="sr-only" for="iter-wwpd-1-input">Your Answer:</label>
            <input class="form-control storable" id="iter-wwpd-1-input" type="text">
            <div class="storable-status"></div>
        
<div class="sol-highlight"> 1 </div>

<pre><code>&gt;&gt;&gt; s.append(3)
&gt;&gt;&gt; next(i)</code></pre>



            <label class="sr-only" for="iter-wwpd-2-input">Your Answer:</label>
            <input class="form-control storable" id="iter-wwpd-2-input" type="text">
            <div class="storable-status"></div>
        
<div class="sol-highlight"> 3 </div>

<pre><code>&gt;&gt;&gt; next(j)</code></pre>




            <label class="sr-only" for="iter-wwpd-2-input">Your Answer:</label>
            <input class="form-control storable" id="iter-wwpd-2-input" type="text">
            <div class="storable-status"></div>
        
<div class="sol-highlight"> 2 </div>

<pre><code>&gt;&gt;&gt; next(i)</code></pre>



            <label class="sr-only" for="iter-wwpd-2-input">Your Answer:</label>
            <input class="form-control storable" id="iter-wwpd-2-input" type="text">
            <div class="storable-status"></div>
        
<div class="sol-highlight"> StopIteration </div>


<h1 id="generators">Generators</h1>


<p>A <strong>generator function</strong> is a special kind of Python function that uses a
<strong>yield</strong> statement instead of a <strong>return</strong> statement to report
values. When a generator function is called, it returns a generator object,
which is a type of iterator. Below, you can see a function that returns an
iterator over the natural numbers.</p>

<pre><code>&gt;&gt;&gt; def gen_naturals():
...     current = 0
...     while True:
...         yield current
...         current += 1
&gt;&gt;&gt; gen = gen_naturals()
&gt;&gt;&gt; gen
&lt;generator object gen at ...&gt;
&gt;&gt;&gt; next(gen)
0
&gt;&gt;&gt; next(gen)
1</code></pre>



<p>The <code>yield</code> statement is similar to a <code>return</code> statement.
However, while a <code>return</code> statement closes the current frame after the
function exits, a <code>yield</code> statement causes the frame to be saved until
the next time <code>next</code> is called, which allows the generator to
automatically keep track of the iteration state.</p>

<p>Once <code>next</code> is called again, execution resumes where it last
stopped and continues until the next <code>yield</code> statement or the end of
the function. A generator function can have multiple <code>yield</code>
statements.</p>

<p>Including a <code>yield</code> statement in a function automatically tells Python
that this function will create a generator. When we call the function, it
returns a generator object instead of executing the body.  When the
generator's <code>next</code> method is called, the body is executed until
the next <code>yield</code> statement is executed.</p>

<p>When <code>yield from</code> is called on an iterator, it will <code>yield</code>
every value from that iterator. It's similar to doing the following:</p>

<pre><code>for x in an_iterator:
    yield x</code></pre>






<h2 id="questions-4">Questions</h2>

<h3 class="question" id="q6">Q6: Filter-Iter</h3>
Implement a generator function called <code>filter_iter(iterable, fn)</code> that only yields
elements of <code>iterable</code> for which <code>fn</code> returns True.


            
            <b>Your Answer</b>
            
            <div class="monaco-storable" id="filter-iter-input" style="height:378px;"></div>
            <a href="index.html#" data-toggle="modal" data-target="#modal-filter-iter-input">Run in 61A Code</a>
            <div class="modal fade" id="modal-filter-iter-input" tabindex="-1" role="dialog">
                <div class="modal-dialog modal-lg" role="document">
                    <div class="modal-content" style="padding-bottom: -5px">
                    <iframe
                        id="code-iframe-filter-iter-input"
                        width="100%"
                        height="700px"
                        style="border: none; display:block;"
                    ></iframe>
                    </div>
                </div>
            </div>
            <div class="storable-status"></div>
            <script>
                $(() => activateEditor('def filter_iter(iterable, fn):\n    &quot;&quot;&quot;\n    &gt;&gt;&gt; is_even = lambda x: x % 2 == 0\n    &gt;&gt;&gt; list(filter_iter(range(5), is_even)) # a list of the values yielded from the call to filter_iter\n    [0, 2, 4]\n    &gt;&gt;&gt; all_odd = (2*y&#x2d;1 for y in range(5))\n    &gt;&gt;&gt; list(filter_iter(all_odd, is_even))\n    []\n    &gt;&gt;&gt; naturals = (n for n in range(1, 100))\n    &gt;&gt;&gt; s = filter_iter(naturals, is_even)\n    &gt;&gt;&gt; next(s)\n    2\n    &gt;&gt;&gt; next(s)\n    4\n    &quot;&quot;&quot;\n    "*** YOUR CODE HERE ***"\n\n', "scheme", "filter-iter-input"));
            </script>
        
            <div class="sol-highlight">
                <b>Solution</b>
                
<pre><code>def filter_iter(iterable, fn):
    &quot;&quot;&quot;
    &gt;&gt;&gt; is_even = lambda x: x % 2 == 0
    &gt;&gt;&gt; list(filter_iter(range(5), is_even)) # a list of the values yielded from the call to filter_iter
    [0, 2, 4]
    &gt;&gt;&gt; all_odd = (2*y&#x2d;1 for y in range(5))
    &gt;&gt;&gt; list(filter_iter(all_odd, is_even))
    []
    &gt;&gt;&gt; naturals = (n for n in range(1, 100))
    &gt;&gt;&gt; s = filter_iter(naturals, is_even)
    &gt;&gt;&gt; next(s)
    2
    &gt;&gt;&gt; next(s)
    4
    &quot;&quot;&quot;
<div class="sol-highlight">    for elem in iterable:
        if fn(elem):
            yield elem</div></code></pre>

            </div>
        
<h3 class="question" id="q7">Q7: (Tutorial) Merge</h3>
Write a generator function <code>merge</code> that takes in two infinite generators <code>a</code> and <code>b</code> that are in increasing order without duplicates and returns a generator
that has all the elements of both generators, in increasing order, without duplicates.


            
            <b>Your Answer</b>
            
            <div class="monaco-storable" id="disc06-q17-input" style="height:468px;"></div>
            <a href="index.html#" data-toggle="modal" data-target="#modal-disc06-q17-input">Run in 61A Code</a>
            <div class="modal fade" id="modal-disc06-q17-input" tabindex="-1" role="dialog">
                <div class="modal-dialog modal-lg" role="document">
                    <div class="modal-content" style="padding-bottom: -5px">
                    <iframe
                        id="code-iframe-disc06-q17-input"
                        width="100%"
                        height="700px"
                        style="border: none; display:block;"
                    ></iframe>
                    </div>
                </div>
            </div>
            <div class="storable-status"></div>
            <script>
                $(() => activateEditor('def merge(a, b):\n    &quot;&quot;&quot;\n    &gt;&gt;&gt; def sequence(start, step):\n    ...     while True:\n    ...         yield start\n    ...         start += step\n    &gt;&gt;&gt; a = sequence(2, 3) # 2, 5, 8, 11, 14, ...\n    &gt;&gt;&gt; b = sequence(3, 2) # 3, 5, 7, 9, 11, 13, 15, ...\n    &gt;&gt;&gt; result = merge(a, b) # 2, 3, 5, 7, 8, 9, 11, 13, 14, 15\n    &gt;&gt;&gt; [next(result) for _ in range(10)]\n    [2, 3, 5, 7, 8, 9, 11, 13, 14, 15]\n    &quot;&quot;&quot;\n    "*** YOUR CODE HERE ***"\n\n', "scheme", "disc06-q17-input"));
            </script>
        
            <div class="sol-highlight">
                <b>Solution</b>
                
<pre><code>def merge(a, b):
    &quot;&quot;&quot;
    &gt;&gt;&gt; def sequence(start, step):
    ...     while True:
    ...         yield start
    ...         start += step
    &gt;&gt;&gt; a = sequence(2, 3) # 2, 5, 8, 11, 14, ...
    &gt;&gt;&gt; b = sequence(3, 2) # 3, 5, 7, 9, 11, 13, 15, ...
    &gt;&gt;&gt; result = merge(a, b) # 2, 3, 5, 7, 8, 9, 11, 13, 14, 15
    &gt;&gt;&gt; [next(result) for _ in range(10)]
    [2, 3, 5, 7, 8, 9, 11, 13, 14, 15]
    &quot;&quot;&quot;
<div class="sol-highlight">    first_a, first_b = next(a), next(b)
    while True:
        if first_a == first_b:
            yield first_a
            first_a, first_b = next(a), next(b)
        elif first_a &lt; first_b:
            yield first_a
            first_a = next(a)
        else:
            yield first_b
            first_b = next(b)</div></code></pre>

            </div>
        

  </div>

  <div class='col-md-3 sticky'>
    <nav class='hidden-print hidden-sm hidden-xs sidebar'>
      <ul>
  <li><a href="index.html#oop">OOP</a></li>
  <ul>
    <li><a href="index.html#questions">Questions</a></li>
    <ul>
      <li><a href="index.html#q1">Q1: OOP WWPD - Student</a></li>
      <li><a href="index.html#q2">Q2: (Tutorial) Email</a></li>
    </ul>
  </ul>
  <li><a href="index.html#inheritance">Inheritance</a></li>
  <ul>
    <li><a href="index.html#questions-2">Questions</a></li>
    <ul>
      <li><a href="index.html#q3">Q3: Cat</a></li>
      <li><a href="index.html#q4">Q4: (Tutorial) NoisyCat</a></li>
    </ul>
  </ul>
  <li><a href="index.html#iterators">Iterators</a></li>
  <ul>
    <li><a href="index.html#questions-3">Questions</a></li>
    <ul>
      <li><a href="index.html#q5">Q5: Iterators WWPD</a></li>
    </ul>
  </ul>
  <li><a href="index.html#generators">Generators</a></li>
  <ul>
    <li><a href="index.html#questions-4">Questions</a></li>
    <ul>
      <li><a href="index.html#q6">Q6: Filter-Iter</a></li>
      <li><a href="index.html#q7">Q7: (Tutorial) Merge</a></li>
    </ul>
  </ul>
</ul>
    </nav>
  </div>
</div>

    </main>

    <footer class="container">
      <div class="row text-center">
        <div class="col col-sm-4">
          <h3><a href="../../index.html">CS 61A</a></h3>
          <ul class="nav nav-pills nav-stacked">
            <li><a href="../../weekly/index.html">Weekly Schedule</a></li>
            <li><a href="../../office-hours/index.html">Office Hours</a></li>
            <li><a href="../../staff/index.html">Staff</a></li>
          </ul>
        </div>
        <div class="col col-sm-4">
          <h3><a href="../../resources/index.html">Resources</a></h3>
          <ul class="nav nav-pills nav-stacked">
            <li><a href="../../articles/studying/index.html">Studying Guide</a></li>
            <li><a href="../../articles/debugging/index.html">Debugging Guide</a></li>
            <li><a href="../../articles/composition/index.html">Composition Guide</a></li>
            <li><a href="../../articles/pair-programming/index.html">Pair Programming</a></li>
          </ul>
        </div>
        <div class="col col-sm-4">
          <h3><a href="../../articles/about/index.html">Policies</a></h3>
          <ul class="nav nav-pills nav-stacked">
            <li><a href="../../articles/about/index.html#assignments">Assignments</a></li>
            <li><a href="../../articles/about/index.html#exams">Exams</a></li>
            <li><a href="../../articles/about/index.html#grading">Grading</a></li>
          </ul>
        </div>
      </div>
    </footer>

    

    <script src="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.20.0/min/vs/loader.min.js"></script>
  <link rel="stylesheet" data-name="vs/editor/editor.main" href="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.20.0/min/vs/editor/editor.main.min.css">
  <script>
      require.config({ paths: { 'vs': 'https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.20.0/min/vs' }});
      window.MonacoEnvironment = { getWorkerUrl: () => URL.createObjectURL(new Blob([`
      self.MonacoEnvironment = {
          baseUrl: 'https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.20.0/min'
      };
      importScripts('https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.20.0/min/vs/base/worker/workerMain.min.js');
  `], { type: 'text/javascript' }))
  };
  </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jsPlumb/2.15.5/js/jsplumb.min.js"></script>
    <script src="../../assets/js/network_storage.js"></script>
    <script src="../../assets/js/storable.js"></script>
    <script src="../../assets/js/editor.js"></script>
    <script src="../../assets/js/env-diagram.js"></script>
    
<script src="../../assets/js/sketchy.js"></script>
<script>
  $('.sidebar ul').addClass('nav nav-stacked noselect');
  $('body').scrollspy({
    target: '.sidebar',
    offset: 40
  });

  function goToId(id) {
    var target = $(id);
    target.parent().show();
    $('html,body').animate({
      scrollTop: target.offset().top,
    }, 100);
    $("body").scrollspy('refresh');
  }

  if (location.hash) {
    setTimeout(function() {
      if (location.hash) {
        goToId(location.hash);
      }
    }, 1);
  }

  $("a").click(function(event) {
    var urlBeforeHashRegEx = new RegExp("^"+window.location.href.split("#")[0]);
    if (/^#/.test(this.hash) && urlBeforeHashRegEx.test(this.href)) {
      event.preventDefault();
      goToId(this.hash);
      document.location.hash = this.hash;
    }
  });
</script>

  </body>
</html>